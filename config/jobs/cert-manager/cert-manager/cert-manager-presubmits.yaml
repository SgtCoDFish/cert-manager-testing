# THIS FILE HAS BEEN AUTOMATICALLY GENERATED
# Don't manually edit it; instead edit the "cmrel" tool which generated it
# Generated with: /home/ashley/workspace/cert-manager-release/bin/cmrel generate-tests --mode current
presubmits:
  cert-manager/cert-manager:
    - agent: kubernetes
      always_run: true
      annotations:
        description: Runs unit and integration tests and verification scripts
        testgrid-alert-email: cert-manager-dev-alerts@googlegroups.com
        testgrid-create-test-group: "true"
        testgrid-dashboards: jetstack-cert-manager-presubmits-blocking
      branches:
        - master
      decorate: true
      labels:
        preset-make-volumes: "true"
        preset-service-account: "true"
      max_concurrency: 8
      name: pull-cert-manager-make-test
      optional: false
      spec:
        containers:
          - args:
              - runner
              - make
              - -j
              - vendor-go
              - ci-presubmit
              - test-ci
            image: eu.gcr.io/jetstack-build-infra-images/bazelbuild:20220512-b6ea825-4.2.1
            resources:
              requests:
                cpu: "2"
                memory: 4Gi
        dnsConfig:
          options:
            - name: ndots
              value: "1"
    - agent: kubernetes
      always_run: true
      annotations:
        description: Verifies the Helm chart passes linting checks
        testgrid-alert-email: cert-manager-dev-alerts@googlegroups.com
        testgrid-create-test-group: "true"
        testgrid-dashboards: jetstack-cert-manager-presubmits-blocking
      branches:
        - master
      decorate: true
      labels:
        preset-dind-enabled: "true"
        preset-make-volumes: "true"
        preset-service-account: "true"
      max_concurrency: 8
      name: pull-cert-manager-chart
      optional: false
      spec:
        containers:
          - args:
              - runner
              - make
              - vendor-go
              - verify-chart
            image: eu.gcr.io/jetstack-build-infra-images/bazelbuild:20220512-b6ea825-4.2.1
            resources:
              requests:
                cpu: "1"
                memory: 1Gi
            securityContext:
              privileged: true
        dnsConfig:
          options:
            - name: ndots
              value: "1"
    - agent: kubernetes
      always_run: false
      annotations:
        description: Runs the end-to-end test suite against a Kubernetes v1.20 cluster
        testgrid-alert-email: cert-manager-dev-alerts@googlegroups.com
        testgrid-create-test-group: "true"
        testgrid-dashboards: jetstack-cert-manager-presubmits-blocking
      branches:
        - master
      decorate: true
      labels:
        preset-cloudflare-credentials: "true"
        preset-default-e2e-volumes: "true"
        preset-dind-enabled: "true"
        preset-enable-all-feature-gates-disable-ssa: "true"
        preset-ginkgo-skip-default: "true"
        preset-make-volumes: "true"
        preset-retry-flakey-tests: "true"
        preset-service-account: "true"
      max_concurrency: 4
      name: pull-cert-manager-e2e-v1-20
      optional: true
      spec:
        containers:
          - args:
              - runner
              - make
              - -j
              - vendor-go
              - e2e-ci
              - K8S_VERSION=1.20
            image: eu.gcr.io/jetstack-build-infra-images/bazelbuild:20220512-b6ea825-4.2.1
            resources:
              requests:
                cpu: 3500m
                memory: 12Gi
            securityContext:
              capabilities:
                add:
                  - SYS_ADMIN
              privileged: true
        dnsConfig:
          options:
            - name: ndots
              value: "1"
    - agent: kubernetes
      always_run: false
      annotations:
        description: Runs the end-to-end test suite against a Kubernetes v1.21 cluster
        testgrid-alert-email: cert-manager-dev-alerts@googlegroups.com
        testgrid-create-test-group: "true"
        testgrid-dashboards: jetstack-cert-manager-presubmits-blocking
      branches:
        - master
      decorate: true
      labels:
        preset-cloudflare-credentials: "true"
        preset-default-e2e-volumes: "true"
        preset-dind-enabled: "true"
        preset-enable-all-feature-gates-disable-ssa: "true"
        preset-ginkgo-skip-default: "true"
        preset-make-volumes: "true"
        preset-retry-flakey-tests: "true"
        preset-service-account: "true"
      max_concurrency: 4
      name: pull-cert-manager-e2e-v1-21
      optional: true
      spec:
        containers:
          - args:
              - runner
              - make
              - -j
              - vendor-go
              - e2e-ci
              - K8S_VERSION=1.21
            image: eu.gcr.io/jetstack-build-infra-images/bazelbuild:20220512-b6ea825-4.2.1
            resources:
              requests:
                cpu: 3500m
                memory: 12Gi
            securityContext:
              capabilities:
                add:
                  - SYS_ADMIN
              privileged: true
        dnsConfig:
          options:
            - name: ndots
              value: "1"
    - agent: kubernetes
      always_run: false
      annotations:
        description: Runs the end-to-end test suite against a Kubernetes v1.22 cluster
        testgrid-alert-email: cert-manager-dev-alerts@googlegroups.com
        testgrid-create-test-group: "true"
        testgrid-dashboards: jetstack-cert-manager-presubmits-blocking
      branches:
        - master
      decorate: true
      labels:
        preset-cloudflare-credentials: "true"
        preset-default-e2e-volumes: "true"
        preset-dind-enabled: "true"
        preset-enable-all-feature-gates: "true"
        preset-ginkgo-skip-default: "true"
        preset-make-volumes: "true"
        preset-retry-flakey-tests: "true"
        preset-service-account: "true"
      max_concurrency: 4
      name: pull-cert-manager-e2e-v1-22
      optional: true
      spec:
        containers:
          - args:
              - runner
              - make
              - -j
              - vendor-go
              - e2e-ci
              - K8S_VERSION=1.22
            image: eu.gcr.io/jetstack-build-infra-images/bazelbuild:20220512-b6ea825-4.2.1
            resources:
              requests:
                cpu: 3500m
                memory: 12Gi
            securityContext:
              capabilities:
                add:
                  - SYS_ADMIN
              privileged: true
        dnsConfig:
          options:
            - name: ndots
              value: "1"
    - agent: kubernetes
      always_run: false
      annotations:
        description: Runs the end-to-end test suite against a Kubernetes v1.23 cluster
        testgrid-alert-email: cert-manager-dev-alerts@googlegroups.com
        testgrid-create-test-group: "true"
        testgrid-dashboards: jetstack-cert-manager-presubmits-blocking
      branches:
        - master
      decorate: true
      labels:
        preset-cloudflare-credentials: "true"
        preset-default-e2e-volumes: "true"
        preset-dind-enabled: "true"
        preset-enable-all-feature-gates: "true"
        preset-ginkgo-skip-default: "true"
        preset-make-volumes: "true"
        preset-retry-flakey-tests: "true"
        preset-service-account: "true"
      max_concurrency: 4
      name: pull-cert-manager-e2e-v1-23
      optional: true
      spec:
        containers:
          - args:
              - runner
              - make
              - -j
              - vendor-go
              - e2e-ci
              - K8S_VERSION=1.23
            image: eu.gcr.io/jetstack-build-infra-images/bazelbuild:20220512-b6ea825-4.2.1
            resources:
              requests:
                cpu: 3500m
                memory: 12Gi
            securityContext:
              capabilities:
                add:
                  - SYS_ADMIN
              privileged: true
        dnsConfig:
          options:
            - name: ndots
              value: "1"
    - agent: kubernetes
      always_run: true
      annotations:
        description: Runs the end-to-end test suite against a Kubernetes v1.24 cluster
        testgrid-alert-email: cert-manager-dev-alerts@googlegroups.com
        testgrid-create-test-group: "true"
        testgrid-dashboards: jetstack-cert-manager-presubmits-blocking
      branches:
        - master
      decorate: true
      labels:
        preset-cloudflare-credentials: "true"
        preset-default-e2e-volumes: "true"
        preset-dind-enabled: "true"
        preset-enable-all-feature-gates: "true"
        preset-ginkgo-skip-default: "true"
        preset-make-volumes: "true"
        preset-retry-flakey-tests: "true"
        preset-service-account: "true"
      max_concurrency: 4
      name: pull-cert-manager-e2e-v1-24
      optional: false
      spec:
        containers:
          - args:
              - runner
              - make
              - -j
              - vendor-go
              - e2e-ci
              - K8S_VERSION=1.24
            image: eu.gcr.io/jetstack-build-infra-images/bazelbuild:20220512-b6ea825-4.2.1
            resources:
              requests:
                cpu: 3500m
                memory: 12Gi
            securityContext:
              capabilities:
                add:
                  - SYS_ADMIN
              privileged: true
        dnsConfig:
          options:
            - name: ndots
              value: "1"
    - agent: kubernetes
      always_run: true
      annotations:
        description: Runs cert-manager upgrade from latest published release
        testgrid-alert-email: cert-manager-dev-alerts@googlegroups.com
        testgrid-create-test-group: "true"
        testgrid-dashboards: jetstack-cert-manager-presubmits-blocking
      branches:
        - master
      decorate: true
      labels:
        preset-default-e2e-volumes: "true"
        preset-dind-enabled: "true"
        preset-make-volumes: "true"
        preset-service-account: "true"
      max_concurrency: 4
      name: pull-cert-manager-e2e-v1-24-upgrade
      optional: false
      spec:
        containers:
          - args:
              - runner
              - make
              - K8S_VERSION=1.24
              - vendor-go
              - test-upgrade
            image: eu.gcr.io/jetstack-build-infra-images/bazelbuild:20220512-b6ea825-4.2.1
            resources:
              requests:
                cpu: 3500m
                memory: 12Gi
            securityContext:
              capabilities:
                add:
                  - SYS_ADMIN
              privileged: true
        dnsConfig:
          options:
            - name: ndots
              value: "1"
    - agent: kubernetes
      always_run: false
      annotations:
        description: Runs the E2E tests with 'Venafi TPP' in name
        testgrid-alert-email: cert-manager-dev-alerts@googlegroups.com
        testgrid-create-test-group: "true"
        testgrid-dashboards: jetstack-cert-manager-presubmits-blocking
      branches:
        - master
      decorate: true
      labels:
        preset-default-e2e-volumes: "true"
        preset-dind-enabled: "true"
        preset-ginkgo-focus-venafi-tpp: "true"
        preset-make-volumes: "true"
        preset-retry-flakey-tests: "true"
        preset-service-account: "true"
        preset-venafi-tpp-credentials: "true"
      max_concurrency: 4
      name: pull-cert-manager-e2e-v1-24-issuers-venafi-tpp
      optional: true
      spec:
        containers:
          - args:
              - runner
              - make
              - -j
              - vendor-go
              - e2e-ci
              - K8S_VERSION=1.24
            image: eu.gcr.io/jetstack-build-infra-images/bazelbuild:20220512-b6ea825-4.2.1
            resources:
              requests:
                cpu: 3500m
                memory: 12Gi
            securityContext:
              capabilities:
                add:
                  - SYS_ADMIN
              privileged: true
        dnsConfig:
          options:
            - name: ndots
              value: "1"
    - agent: kubernetes
      always_run: false
      annotations:
        description: Runs the E2E tests with 'Venafi Cloud' in name
        testgrid-alert-email: cert-manager-dev-alerts@googlegroups.com
        testgrid-create-test-group: "true"
        testgrid-dashboards: jetstack-cert-manager-presubmits-blocking
      branches:
        - master
      decorate: true
      labels:
        preset-default-e2e-volumes: "true"
        preset-dind-enabled: "true"
        preset-ginkgo-focus-venafi-cloud: "true"
        preset-make-volumes: "true"
        preset-retry-flakey-tests: "true"
        preset-service-account: "true"
        preset-venafi-cloud-credentials: "true"
      max_concurrency: 4
      name: pull-cert-manager-e2e-v1-24-issuers-venafi-cloud
      optional: true
      spec:
        containers:
          - args:
              - runner
              - make
              - -j
              - vendor-go
              - e2e-ci
              - K8S_VERSION=1.24
            image: eu.gcr.io/jetstack-build-infra-images/bazelbuild:20220512-b6ea825-4.2.1
            resources:
              requests:
                cpu: 3500m
                memory: 12Gi
            securityContext:
              capabilities:
                add:
                  - SYS_ADMIN
              privileged: true
        dnsConfig:
          options:
            - name: ndots
              value: "1"
    - agent: kubernetes
      always_run: false
      annotations:
        description: Runs the E2E tests with all feature gates disabled
        testgrid-alert-email: cert-manager-dev-alerts@googlegroups.com
        testgrid-create-test-group: "true"
        testgrid-dashboards: jetstack-cert-manager-presubmits-blocking
      branches:
        - master
      decorate: true
      labels:
        preset-cloudflare-credentials: "true"
        preset-default-e2e-volumes: "true"
        preset-dind-enabled: "true"
        preset-disable-all-alpha-beta-feature-gates: "true"
        preset-ginkgo-skip-default: "true"
        preset-make-volumes: "true"
        preset-retry-flakey-tests: "true"
        preset-service-account: "true"
      max_concurrency: 4
      name: pull-cert-manager-e2e-v1-24-feature-gates-disabled
      optional: true
      spec:
        containers:
          - args:
              - runner
              - make
              - -j
              - vendor-go
              - e2e-ci
              - K8S_VERSION=1.24
            image: eu.gcr.io/jetstack-build-infra-images/bazelbuild:20220512-b6ea825-4.2.1
            resources:
              requests:
                cpu: 3500m
                memory: 12Gi
            securityContext:
              capabilities:
                add:
                  - SYS_ADMIN
              privileged: true
        dnsConfig:
          options:
            - name: ndots
              value: "1"
